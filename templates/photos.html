{% extends "base.html" %}

{% block title %}Photos{% endblock %}

{% block content %}

<h1>Photos</h1>

<!-- Display All Photos -->
<div class="photo-container">
    {% for photo in photos %}
        <div class="photo-card">
            <img src="{{ photo.url }}" alt="Photo" class="photo-image">
            <div class="photo-details">
                <p><strong>Description:</strong> {{ photo.description }}</p>
                <p><strong>Tags:</strong> {{ photo.tags }}</p>
                <p><strong>Created At:</strong> {{ photo.created_at }}</p>
                <!-- Comments Section -->
                <h3>Comments</h3>
                <ul>
                    {% for comment in photo.comments %}
                        <li>{{ comment.text }} - <em>{{ comment.username }}</em></li>
                    {% endfor %}
                </ul>
                <!-- Add Comment Form -->
                <form action="/add_comment" method="post">
                    <input type="hidden" name="photo_id" value="{{ photo.id }}">
                    <textarea name="comment" rows="2" placeholder="Add a comment" class="form-control" required></textarea><br>
                    <button type="submit">Add Comment</button>
                </form>
            </div>
        </div>
    {% endfor %}
</div>

{% endblock %}
